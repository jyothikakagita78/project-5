var VideoCanvasForEmbeddedYTPlayer;(function(n){function s(i){var c,a=i===null||i===void 0?void 0:i[0],f,s;if(a&&(u||a!=(t===null||t===void 0?void 0:t.EmbedPlayer_ComponentUpdate))&&(!u||a!=(t===null||t===void 0?void 0:t.EmbedPlayer_Init))){if(!r&&i&&i.length>1){if(f=i[1],(f===null||f===void 0?void 0:f.playerKey)&&f.playerKey==n._playerKey)return;n._playerKey=f.playerKey;o=f.playerConfig;s=(c=f.playerConfig)===null||c===void 0?void 0:c.ytpc;s&&(r=s.ytpi,w=s.lpi,u=s.epiocu,l=s.ytpdc);typeof({}===null||{}===void 0?void 0:{}.trace)===k&&f}if(!r&&e&&e.ytp&&e.ytpid&&(r=e.ytpid),pMMUtils&&r&&_ge(r))if(_w.onYouTubeIframeAPIReady=h,y){if(u){g(i);return}w||h(i)}else p||(p=!0,yt(),sj_be(_w,"unload",d),ot())}}function a(){pt();i&&i.getIframe()&&i.destroy();YT=undefined}function d(){a();sj_ue(_w,"unload",d)}function ot(){var t=document.createElement("script"),n;t.src="https://www.youtube.com/iframe_api";n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(t,n)}function h(n){y=!0;g(n)}function g(t){if(t&&t.length>1){var u=t[1];if((u===null||u===void 0?void 0:u.playerKey)&&u.playerKey==n._playerKey)return;n._playerKey=u.playerKey}typeof YT!="undefined"&&typeof YT.Player!="undefined"&&(i=new YT.Player(r,{events:{onReady:ht,onStateChange:ct,onError:lt}}),typeof({}===null||{}===void 0?void 0:{}.trace)===k&&i,sj_be(_w,"message",st))}function st(n){var u,f,e,s,h,a,y=(u=i===null||i===void 0?void 0:i.getIframe())===null||u===void 0?void 0:u.contentWindow,r;if(n&&y&&(n===null||n===void 0?void 0:n.source)===y&&typeof(n===null||n===void 0?void 0:n.data)=="string")try{r=JSON.parse(n.data);r&&(r.event==="onError"||r.event==="infoDelivery"&&r.info&&r.info.playerState=="-1"&&r.info.playbackQuality=="unknown")&&sj_evt.fire(t===null||t===void 0?void 0:t.VideoCanvas_3rdPartyError);r&&r.event==="infoDelivery"&&r.info&&(sj_evt.fire(t===null||t===void 0?void 0:t.VideoPlayer_InfoUpdate,r.info),c||((f=r.info)===null||f===void 0?void 0:f.playerState)!=!0||(c=!0,sj_evt.fire(t===null||t===void 0?void 0:t.VideoCanvas_VideoPlaying)),((s=(e=o===null||o===void 0?void 0:o.instc)===null||e===void 0?void 0:e.edl)===null||s===void 0?void 0:s.indexOf("ExtraVid"))!==-1&&l.evdt>0&&!v&&((a=(h=r.info)===null||h===void 0?void 0:h.progressState)===null||a===void 0?void 0:a.duration)&&r.info.progressState.duration>0&&Math.abs(r.info.progressState.duration-ut())>l.evdt&&(sj_evt.fire(t===null||t===void 0?void 0:t.VideoCanvas_ExtraVideoInserted),v=!0))}catch(p){}}function ht(n){f=!0;var i={videoDuration:ut()};i.videoDuration&&i.videoDuration!=-1||(i.videoDuration=at(n));sj_evt.fire(t===null||t===void 0?void 0:t.VideoCanvas_VideoPlayerReady,i)}function ct(n){var i=YT===null||YT===void 0?void 0:YT.PlayerState;if(i&&n)switch(n.data){case i.UNSTARTED:sj_evt.fire(t===null||t===void 0?void 0:t.VideoCanvas_VideoUnStarted);break;case i.ENDED:sj_evt.fire(t===null||t===void 0?void 0:t.VideoCanvas_VideoEnded);break;case i.PLAYING:c=!0;sj_evt.fire(t===null||t===void 0?void 0:t.VideoCanvas_VideoPlaying);break;case i.PAUSED:sj_evt.fire(t===null||t===void 0?void 0:t.VideoCanvas_VideoStopped);break;case i.BUFFERING:sj_evt.fire(t===null||t===void 0?void 0:t.VideoCanvas_VideoStopped)}}function lt(n){et.isTest()&&console&&console.log("YT.Player Error: "+n.data);sj_evt.fire("VideoCanvas.VideoPlayerError",n.data)}function nt(n){if(n&&!(n.length<2)&&n[1]){var t=n[1],i=t.seekTime,r=t.enableSeekAhead,u=t.enableSeekBack;typeof i=="number"&&i>=0&&it(i,r,u)}}function tt(n){if(typeof i!="undefined"&&n&&!(n.length<2)){var t=n[1];t==!0?typeof(i===null||i===void 0?void 0:i.mute)=="function"&&i.mute():typeof(i===null||i===void 0?void 0:i.unMute)=="function"&&i.unMute()}}function it(n,t,r){var u=rt();return(n>u&&t||n<u&&r)&&i&&f&&typeof i.seekTo!="undefined"?(i.seekTo(n,!0),!0):!1}function rt(){return i&&f&&typeof i.getCurrentTime!="undefined"?i.getCurrentTime():-1}function ut(){return i&&f&&typeof i.getDuration!="undefined"?i.getDuration():-1}function at(n){var t;return n&&f&&typeof((t=n===null||n===void 0?void 0:n.target)===null||t===void 0?void 0:t.getDuration)!="undefined"?n.target.getDuration():-1}function vt(){return i&&typeof i.getPlayerState!="undefined"?i.getPlayerState():NaN}function ft(n){if(typeof i!="undefined"&&i&&n&&!(n.length<2)){var u=n[1],t=YT===null||YT===void 0?void 0:YT.PlayerState,r=typeof i.getPlayerState=="function"?i.getPlayerState():null;if(u&&t&&r)switch(u){case 2:r===t.PAUSED&&typeof i.playVideo=="function"&&i.playVideo();break;case 3:r===t.PLAYING&&typeof i.pauseVideo=="function"&&i.pauseVideo()}}}function yt(){sj_evt.bind("ajax.unload",a);u||sj_evt.bind(t===null||t===void 0?void 0:t.EmbedPlayer_ComponentUpdate,h);sj_evt.bind(t===null||t===void 0?void 0:t.EmbedPlayer_SeekTime,nt);sj_evt.bind(t===null||t===void 0?void 0:t.EmbedPlayer_MuteStateUpdate,tt);sj_evt.bind(t===null||t===void 0?void 0:t.VideoPlayer_ChangePlayerState,ft)}function pt(){sj_evt.unbind("ajax.unload",a);u||sj_evt.unbind(t===null||t===void 0?void 0:t.EmbedPlayer_ComponentUpdate,h);sj_evt.unbind(t===null||t===void 0?void 0:t.EmbedPlayer_SeekTime,nt);sj_evt.unbind(t===null||t===void 0?void 0:t.EmbedPlayer_MuteStateUpdate,tt);sj_evt.unbind(t===null||t===void 0?void 0:t.VideoPlayer_ChangePlayerState,ft)}n._playerKey="";var e=_w.VDConfig,r=null,et=pMMUtils,t=typeof SharedEventString!="undefined"?SharedEventString:null,i=null,f=!1,c=!1,v=!1,y=!1,p=!1,w=!1,u=!1,l=null,o=null,b="VideoCanvas.YTPlayer",k="function";n.init=s;n.seekVideo=it;n.getVideoCurrentTime=rt;n.getVideoPlayerState=vt;t&&(sj_evt.bind(t.EmbedPlayer_ComponentMount,s,!0),sj_evt.bind(t.EmbedPlayer_ComponentUpdate,s,!0),sj_evt.bind(t.EmbedPlayer_Init,s,!0))})(VideoCanvasForEmbeddedYTPlayer||(VideoCanvasForEmbeddedYTPlayer={}))